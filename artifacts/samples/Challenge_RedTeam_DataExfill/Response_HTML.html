<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <title>Finance Reports</title>
   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" />
    
</head>

<body style="height: 100vh">
  <nav class="navbar navbar-expand-md fixed-top bg-dark" data-bs-theme="dark">
    <a class="navbar-brand ps-4" href="/"><img src="/static/logo-big.png" alt="Logo"
        style="max-height: 40px; width: auto;" /></a>
  </nav>
  <main role="main" style="height: 100%">
    
<div class="container m-0 p-0" style="height: 100%">
  <div class="row " style="height: 100%">
    <div class="d-flex flex-column px-4 text-bg-dark col-1" style="width: 280px; height: 100%; padding-top: 60px">
      <hr />
      <ul class="nav nav-pills flex-column mb-auto">
        
<li>
    <a href="/dashboard" class="nav-link text-white">
        <i class="bi bi-speedometer2"></i>
        Dashboard
    </a>
</li>
<li>
    <a href="/profile" class="nav-link text-white">
        <i class="bi bi-person-square"></i>
        Profile
    </a>
</li>

<li>
    <a href="/finance" class="nav-link text-white active">
        <i class="bi bi-bar-chart-line"></i>
        Finance
    </a>
</li>


      </ul>
      <hr />
      <div class="dropdown pb-2">
        <a href="#" class="d-flex align-items-center text-white text-decoration-none dropdown-toggle"
          data-bs-toggle="dropdown" aria-expanded="false">
          <i class="bi bi-person-circle pe-1"></i>
          
          <strong>Sophia Bennett</strong>
          
        </a>
        <ul class="dropdown-menu dropdown-menu-dark text-small shadow">
          
          <li><a class="dropdown-item" href="/logout">Sign out</a></li>
          
        </ul>
      </div>
    </div>
    <div class="col-9" style="padding-top: 60px">
       

<div class="container mt-4">
    <div class="row">
        <div class="col-12">
            <h1 class="mb-4">Finance Reports</h1>
            <p class="mb-4">View and search financial records including employee information, departments, and
                transaction amounts.<br />Use the filters below to narrow down your search results.</p>

            <div class="card">
                <div class="card-body pb-0">
                    <form method="GET" action="/finance">
                        <input type="hidden" name="page" value="1">
                        <div class="table-responsive">
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>Date</th>
                                        <th>Name</th>
                                        <th>Department</th>
                                        <th>Amount</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="table-light">
                                        <td>
                                            <input type="date" class="form-control form-control-sm" name="date"
                                                value="">
                                        </td>
                                        <td>
                                            <input type="text" class="form-control form-control-sm" name="name"
                                                placeholder="Filter by name..." value="">
                                        </td>
                                        <td>
                                            <input type="text" class="form-control form-control-sm" name="department"
                                                placeholder="Filter by department..." value="Research&#39;">
                                        </td>
                                        <td>
                                            <input type="text" class="form-control form-control-sm" name="amount"
                                                placeholder="Min amount..." value="">
                                        </td>
                                    </tr>
                                    </td>
                                    </tr>
                                    
                                    
                                    <tr>
                                        <td colspan="4" class="text-center text-muted">
                                            No records found
                                            
                                        </td>
                                    </tr>
                                    
                                    <tr>
                                        <td colspan="4" class="text-center text-muted">
                                            &nbsp;
                                            
                                        </td>
                                    </tr>
                                    
                                    <tr>
                                        <td colspan="4" class="text-center text-muted">
                                            &nbsp;
                                            
                                        </td>
                                    </tr>
                                    
                                    <tr>
                                        <td colspan="4" class="text-center text-muted">
                                            &nbsp;
                                            
                                        </td>
                                    </tr>
                                    
                                    <tr>
                                        <td colspan="4" class="text-center text-muted">
                                            &nbsp;
                                            
                                        </td>
                                    </tr>
                                    
                                    <tr>
                                        <td colspan="4" class="text-center text-muted">
                                            &nbsp;
                                            
                                        </td>
                                    </tr>
                                    
                                    <tr>
                                        <td colspan="4" class="text-center text-muted">
                                            &nbsp;
                                            
                                        </td>
                                    </tr>
                                    
                                    <tr>
                                        <td colspan="4" class="text-center text-muted">
                                            &nbsp;
                                            
                                        </td>
                                    </tr>
                                    
                                    <tr>
                                        <td colspan="4" class="text-center text-muted">
                                            &nbsp;
                                            
                                        </td>
                                    </tr>
                                    
                                    <tr>
                                        <td colspan="4" class="text-center text-muted">
                                            &nbsp;
                                            
                                        </td>
                                    </tr>
                                    
                                    <tr>
                                        <td colspan="4" class="text-center text-muted">
                                            &nbsp;
                                            
                                        </td>
                                    </tr>
                                    
                                    <tr>
                                        <td colspan="4" class="text-center text-muted">
                                            &nbsp;
                                            
                                        </td>
                                    </tr>
                                    
                                    
                                    
                                </tbody>
                            </table>
                        </div>
                    </form>

                    <!-- Pagination Controls -->
                    
                    <div class="text-center text-muted my-3">No additional pages</div>
                    
                </div>
            </div>
        </div>
    </div>
</div>


  </div>
</div>
</div>

  </main>

   <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.min.js" integrity="sha384-VQqxDN0EQCkWoxt/0vsQvZswzTHUVOImccYmSyhJTp7kGtPed0Qcx8rK9h9YEgx+" crossorigin="anonymous"></script>  
<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"
    integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js"></script>
<script>
    $(document).ready(function () {
        // Auto-submit form when any filter input changes
        $('input[name="date"], input[name="name"], input[name="department"], input[name="amount"]').on('keyup', function (e) {
            if (e.key === 'Enter' || e.keyCode === 13) {
                e.preventDefault();

                var form = $(this).closest('form');
                var activeElement = document.activeElement;

                $.ajax({
                    url: form.attr('action') || window.location.pathname,
                    type: 'GET',
                    data: form.serialize() + '&page=1',
                    success: function (response) {
                        // Update the page content with the response
                        $('body').html(response);
                        // Update the URL with current filter parameters
                        var currentUrl = new URL(window.location);
                        var formData = new FormData(form[0]);

                        // Clear existing parameters
                        currentUrl.search = '';

                        // Add form parameters to URL
                        for (let [key, value] of formData.entries()) {
                            if (key === 'page') continue; // Skip page parameter
                            currentUrl.searchParams.set(key, value ?? '');
                        }
                        currentUrl.searchParams.set('page', '1'); // Reset to first page

                        // Update browser URL without page reload
                        window.history.replaceState({}, '', currentUrl);

                        // Restore focus to the previously active element
                        if (activeElement && activeElement.name) {
                            var input = $('input[name="' + activeElement.name + '"]');
                            input.focus();
                            var len = input.val().length;
                            input[0].setSelectionRange(len, len);
                        }

                        console.log(response);
                    },
                    error: function () {
                        console.error('Error submitting form');
                    }
                });
            }
        });
    });
</script>

</body>

</html>